2024-03-16 00:50:58.035 +03:00 [INF] Application Starting
2024-03-16 00:51:46.187 +03:00 [INF] Application Starting
2024-03-16 00:52:32.241 +03:00 [INF] Application Starting
2024-03-16 12:00:36.063 +03:00 [INF] Application Starting
2024-03-16 12:01:31.614 +03:00 [INF] Application Starting
2024-03-16 12:01:32.261 +03:00 [INF] Entity Framework Core 6.0.28 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.0+025fc55189ae41e3f2b98bcbe4eb44c505653700' with options: None
2024-03-16 12:04:10.945 +03:00 [INF] Application Starting
2024-03-16 12:04:11.642 +03:00 [INF] Entity Framework Core 6.0.28 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.0+025fc55189ae41e3f2b98bcbe4eb44c505653700' with options: None
2024-03-16 12:04:11.865 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2024-03-16 12:04:11.994 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2024-03-16 12:04:12.008 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-03-16 12:04:12.021 +03:00 [INF] Applying migration '20240316090132_Initial'.
2024-03-16 12:04:12.070 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Chats" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ChatId" text NULL,
    "IsActiveForPoll" boolean NOT NULL,
    CONSTRAINT "PK_Chats" PRIMARY KEY ("Id")
);
2024-03-16 12:04:12.078 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "DailyPolls" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "PollIsStarted" boolean NOT NULL,
    "ChatId" text NULL,
    "TimeToStartVote" interval NOT NULL,
    "TimeToStartGame" interval NOT NULL,
    "PollDate" timestamp without time zone NOT NULL,
    CONSTRAINT "PK_DailyPolls" PRIMARY KEY ("Id")
);
2024-03-16 12:04:46.965 +03:00 [INF] Application Starting
2024-03-16 12:04:47.592 +03:00 [INF] Entity Framework Core 6.0.28 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.0+025fc55189ae41e3f2b98bcbe4eb44c505653700' with options: None
2024-03-16 12:04:47.797 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2024-03-16 12:04:47.895 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2024-03-16 12:04:47.919 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2024-03-16 12:04:47.922 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-03-16 12:04:47.934 +03:00 [INF] Applying migration '20240316090132_Initial'.
2024-03-16 12:04:47.961 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Chats" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ChatId" text NULL,
    "IsActiveForPoll" boolean NOT NULL,
    CONSTRAINT "PK_Chats" PRIMARY KEY ("Id")
);
2024-03-16 12:04:47.967 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "DailyPolls" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "PollIsStarted" boolean NOT NULL,
    "ChatId" text NULL,
    "TimeToStartVote" interval NOT NULL,
    "TimeToStartGame" interval NOT NULL,
    "PollDate" timestamp without time zone NOT NULL,
    CONSTRAINT "PK_DailyPolls" PRIMARY KEY ("Id")
);
2024-03-16 12:04:47.974 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserName" text NULL,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2024-03-16 12:04:47.978 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PollUserResult" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" integer NULL,
    "DailyPollId" integer NOT NULL,
    "PollResult" integer NOT NULL,
    CONSTRAINT "PK_PollUserResult" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_PollUserResult_DailyPolls_DailyPollId" FOREIGN KEY ("DailyPollId") REFERENCES "DailyPolls" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_PollUserResult_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id")
);
2024-03-16 12:04:47.981 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PollUserResult_DailyPollId" ON "PollUserResult" ("DailyPollId");
2024-03-16 12:04:47.983 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PollUserResult_UserId" ON "PollUserResult" ("UserId");
2024-03-16 12:04:47.984 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240316090132_Initial', '6.0.28');
